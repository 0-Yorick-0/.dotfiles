" +--------------+
" | Set  options |
" +--------------+
source $VIMCONFIG/settings.vim

"needed for vim-polyglot
set nocompatible 

set guifont=materialdesignicons-webfont:h21

" resizing window mode
let g:winresizer_start_key = '<leader>w' 

"let g:python3_host_prog = "/usr/local/Cellar/python@3.10/3.10.8/bin/python3"
let g:gutentags_ctags_executable='/opt/homebrew/bin/ctags'

" auto-reload file as soon as it changes on disk
set autoread

" +---------+
" | mapping |
" +---------+

" Source mapping definition file
source $VIMCONFIG/mappings.vim

" +----------------+
" | install plugin |
" +----------------+

" Source plugin definition file
source $VIMCONFIG/init_plugins.vim


" source every plugin configs
"for file in split(glob('$VIMCONFIG/pluggedconf/*.nvimrc'), '\n')
"    execute 'source' file
"endfor

:runtime! init.vim.d/*.nvimrc init.vim.d/*.lua

" colorscheme
source $VIMCONFIG/themes/sonokai.vim

" fix broken `gx` command to open url
function! OpenURLUnderCursor()
  let s:uri = expand('<cWORD>')
  let s:uri = substitute(s:uri, '?', '\\?', '')
  let s:uri = shellescape(s:uri, 1)
  if s:uri != ''
    silent exec "!open '".s:uri."'"
    :redraw!
  endif
endfunction
"nnoremap gx :call OpenURLUnderCursor()<CR>
